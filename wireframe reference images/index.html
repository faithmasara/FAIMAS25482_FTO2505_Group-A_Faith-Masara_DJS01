<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Podcast Browser ‚Äì No Images</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: { 50:'#F7F8FF',100:'#EEF1FF',200:'#DCE3FF',300:'#BAC8FF',400:'#8AA7FF',500:'#5E88FF',600:'#3C6CF6',700:'#2E55D4',800:'#2A46A6',900:'#243B8A' }
          },
          boxShadow: {
            card: '0 1px 1px rgb(0 0 0 / 0.05), 0 6px 16px rgb(0 0 0 / 0.06)'
          }
        }
      }
    }
  </script>
  <style>
    :focus-visible { outline: 2px solid #3b82f6; outline-offset: 2px; }
    .card-img { aspect-ratio: 4 / 3; }
    .select-chevron::after { content: '‚ñæ'; position: absolute; right: .5rem; top: 50%; transform: translateY(-50%); color: #6b7280; pointer-events: none; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900 antialiased">
  <!-- Header -->
  <header class="sticky top-0 z-20 bg-white/90 backdrop-blur border-b border-gray-200">
    <div class="mx-auto max-w-7xl h-16 px-4 sm:px-6 lg:px-8 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <span class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-brand-600 text-white text-lg">üéôÔ∏è</span>
        <span class="text-xl font-semibold">Podcast Browser</span>
      </div>
      <div class="hidden sm:flex items-center gap-3">
        <button aria-label="Search" class="p-2 rounded-full hover:bg-gray-100">üîç</button>
        <div class="h-9 w-9 rounded-full bg-gray-200 grid place-items-center">üë§</div>
      </div>
    </div>
  </header>

  <!-- Controls -->
  <section class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-6">
    <div class="flex flex-wrap items-center gap-3 sm:gap-4">
      <span class="text-sm font-medium text-gray-700">Filter by:</span>
      <div class="relative select-chevron">
        <label for="genreSelect" class="sr-only">Genre</label>
        <select id="genreSelect" class="appearance-none h-10 min-w-[12rem] rounded-md border border-gray-300 bg-white px-3 pr-8 text-sm shadow-sm focus:border-brand-600 focus:ring-brand-600"></select>
      </div>
      <div class="relative select-chevron">
        <label for="sortSelect" class="sr-only">Sort</label>
        <select id="sortSelect" class="appearance-none h-10 min-w-[14rem] rounded-md border border-gray-300 bg-white px-3 pr-8 text-sm shadow-sm focus:border-brand-600 focus:ring-brand-600">
          <option value="recent">Recently Updated</option>
          <option value="popular">Most Popular</option>
          <option value="newest">Newest</option>
        </select>
      </div>
    </div>
  </section>

  <!-- Grid -->
  <main class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6">
    <div id="grid" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div>
  </main>

  <!-- Modal -->
  <div id="modalRoot" class="fixed inset-0 z-50 hidden" aria-hidden="true">
    <div id="backdrop" class="absolute inset-0 bg-black/40"></div>
    <div role="dialog" aria-modal="true" aria-labelledby="modalTitle" class="relative mx-auto my-8 w-[92%] max-w-4xl">
      <div class="bg-white rounded-xl shadow-2xl">
        <div class="flex items-center justify-between p-5 border-b border-gray-200">
          <h2 id="modalTitle" class="text-2xl font-semibold">Podcast Title</h2>
          <button id="closeModalTop" class="p-2 rounded-md hover:bg-gray-100" aria-label="Close">‚úï</button>
        </div>
        <div class="p-6">
          <div class="grid gap-6 md:grid-cols-[260px,1fr]">
            <div>
              <!-- No-image placeholder in modal -->
              <div id="modalCover" class="aspect-square w-full rounded-md bg-gray-200 grid place-items-center text-gray-600 text-sm">
                No Image
              </div>
            </div>
            <div class="flex flex-col gap-4">
              <div>
                <h3 class="font-semibold mb-2">Description</h3>
                <p id="modalDescription" class="text-gray-700 leading-relaxed"></p>
              </div>
              <div>
                <h3 class="font-semibold mb-2">Genres</h3>
                <div id="modalGenres" class="flex flex-wrap gap-2"></div>
              </div>
              <div class="text-sm text-gray-600 flex items-center gap-2">
                <span>üìÖ</span><span id="modalUpdated"></span>
              </div>
            </div>
          </div>
          <div class="mt-8">
            <h3 class="text-lg font-semibold mb-3">Seasons</h3>
            <div id="modalSeasons" class="space-y-3"></div>
          </div>
        </div>
        <div class="p-4 border-t border-gray-200 flex justify-end">
          <button id="closeModal" class="px-4 py-2 rounded-md border border-gray-300 bg-white hover:bg-gray-50">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ===================== Utils =====================
    const Utils = Object.freeze({
      formatDate(date){ return new Date(date).toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'}); },
      timeAgo(date){
        const seconds=Math.floor((Date.now()-new Date(date).getTime())/1000);
        const rtf=new Intl.RelativeTimeFormat(undefined,{numeric:'auto'});
        const divs=[{amount:60,name:'second'},{amount:60,name:'minute'},{amount:24,name:'hour'},{amount:7,name:'day'},{amount:4.34524,name:'week'},{amount:12,name:'month'},{amount:Infinity,name:'year'}];
        let d=seconds; for(const v of divs){ if(Math.abs(d)<v.amount) return rtf.format(Math.round(-d),v.name); d/=v.amount; }
      },
      el(tag, classes='', children=[]){ const e=document.createElement(tag); if(classes) e.className=classes; children.forEach(c=>e.append(c)); return e; },
      pill(text){ const s=Utils.el('span','inline-flex items-center rounded-full border border-gray-300 bg-gray-50 px-2.5 py-1 text-xs text-gray-800'); s.textContent=text; return s; }
    });

    // ===================== Domain Models =====================
    class Season { constructor(title, episodes, subtitle=''){ this.title=title; this.episodes=episodes; this.subtitle=subtitle; } }
    class Podcast {
      constructor({id,title,genres,description,updatedAt,seasons,popularity=0}){
        this.id=String(id); this.title=title; this.genres=genres||[]; this.description=description||'';
        this.updatedAt=updatedAt||Date.now(); this.seasons=seasons||[]; this.popularity=popularity;
      }
      get seasonCount(){ return this.seasons.length; }
    }
    class PodcastRepository {
      constructor(items=[]){ this.items=items; }
      allGenres(){ const set=new Set(); this.items.forEach(p=>p.genres.forEach(g=>set.add(g))); return ['All Genres',...Array.from(set).sort()]; }
      query({genre='All Genres',sort='recent'}={}){
        let out=[...this.items];
        if(genre!=='All Genres') out=out.filter(p=>p.genres.includes(genre));
        if(sort==='popular') out.sort((a,b)=>b.popularity-a.popularity);
        else out.sort((a,b)=>new Date(b.updatedAt)-new Date(a.updatedAt));
        return out;
      }
    }

    // ===================== Data (10 podcasts, covers omitted) =====================
    const externalPodcasts = [
      { id:'10716', title:'History Uncovered', genres:['History','Education'], description:'Deep dives into pivotal moments that shaped our world.', updatedAt:'2025-01-20', popularity:82 },
      { id:'5675',  title:'True Crime Files',  genres:['True Crime','Mystery'], description:'Chilling real-life mysteries and unsolved cases.', updatedAt:'2025-01-17', popularity:95 },
      { id:'5279',  title:'American Stories',   genres:['History','Society'], description:'Seasonal storytelling across U.S. themes and eras.', updatedAt:'2025-01-12', popularity:76 },
      { id:'10539', title:'Science Explained',  genres:['Science','Education'], description:'Breaking down the mysteries of science for everyone.', updatedAt:'2025-01-10', popularity:88 },
      { id:'9177',  title:'Startup Journey',    genres:['Business','Technology'], description:'Behind the scenes of startups and their founders.', updatedAt:'2025-01-08', popularity:73 },
      { id:'6807',  title:'Famous Lives',       genres:['Society','Culture'], description:'Icons, royalty, celebrities ‚Äî how their stories shaped culture.', updatedAt:'2025-01-05', popularity:91 },
      { id:'8514',  title:'Survival Tales',     genres:['Adventure','True Stories'], description:'Against-all-odds survival stories from around the world.', updatedAt:'2025-01-02', popularity:79 },
      { id:'10276', title:'Tech Today',         genres:['Technology','Business'], description:'What matters in tech, explained clearly each week.', updatedAt:'2024-12-29', popularity:87 },
      { id:'8860',  title:'Scandals Exposed',   genres:['Politics','Society'], description:'Controversies and scandals that rocked institutions.', updatedAt:'2024-12-20', popularity:69 },
      { id:'5629',  title:'World History 101',  genres:['History'], description:'Civilizations rising and falling across time.', updatedAt:'2024-12-15', popularity:84 }
    ];

    // Full seasons dataset you provided
    const externalSeasons = [
      { id:"10716", seasonDetails:[{title:"Season 1",episodes:10},{title:"Season 2",episodes:8},{title:"Season 3",episodes:9},{title:"Season 4",episodes:7},{title:"Season 5",episodes:10},{title:"Season 6",episodes:7},{title:"Season 7",episodes:6},{title:"Season 8",episodes:6},{title:"Season 9",episodes:9},{title:"Season 10",episodes:10},{title:"Season 11",episodes:10},{title:"Season 12",episodes:6},{title:"Season 13",episodes:10},{title:"Season 14",episodes:4}]},
      { id:"5675",  seasonDetails:[{title:"Season 1",episodes:10},{title:"Season 2",episodes:10},{title:"Season 3",episodes:10},{title:"Season 4",episodes:10},{title:"Season 5",episodes:10},{title:"Season 6",episodes:10},{title:"Season 7",episodes:10},{title:"Season 8",episodes:10},{title:"Season 9",episodes:10},{title:"Season 10",episodes:10},{title:"Season 11",episodes:10},{title:"Season 12",episodes:10}]},
      { id:"5279",  seasonDetails:[{title:"The Cold War",episodes:7},{title:"Prohibition",episodes:7},{title:"The Age of Jackson",episodes:7},{title:"The Space Race",episodes:4},{title:"American Revolution",episodes:7},{title:"National Parks",episodes:7},{title:"Civil Rights",episodes:7},{title:"Political Parties",episodes:7},{title:"The 1968 Chicago Protests",episodes:4},{title:"The Great Depression",episodes:7},{title:"J. Edgar Hoover's FBI",episodes:7},{title:"Sponsored | American Epidemics",episodes:2},{title:"Tulsa Race Massacre",episodes:7},{title:"The Bastard Brigade",episodes:7},{title:"Dutch Manhattan",episodes:7},{title:"The Triangle Shirtwaist Factory Fire",episodes:5},{title:"Kentucky Blood Feud",episodes:2},{title:"California Water Wars",episodes:6},{title:"What We Learned from the Spanish Flu",episodes:1},{title:"Rebellion in the Early Republic",episodes:7},{title:"The WWII Home Front",episodes:2},{title:"The Space Race",episodes:4},{title:"Stonewall",episodes:5},{title:"The Gilded Age",episodes:7},{title:"Political Parties",episodes:6},{title:"The Supreme Court",episodes:8},{title:"Coal Wars",episodes:5},{title:"Traditions, Crisis, and Unity",episodes:1},{title:"The Great Chicago Fire",episodes:4},{title:"America's Monuments",episodes:7},{title:"Bleeding Kansas",episodes:5},{title:"The Mystery of D.B. Cooper",episodes:1},{title:"Tulsa Race Massacre",episodes:5},{title:"Lost Colony of Roanoke",episodes:3},{title:"The Walker Affair",episodes:3},{title:"The Fight for the First U.S. Olympics",episodes:4},{title:"National Parks",episodes:6},{title:"Roaring Twenties",episodes:5},{title:"Traitors",episodes:5},{title:"Philippine-American War",episodes:5},{title:"Billy the Kid",episodes:4},{title:"The Plot to Steal Lincoln's Body",episodes:3},{title:"The Fight for Women's Suffrage",episodes:6},{title:"Lewis and Clark",episodes:4},{title:"The Great Mississippi Flood",episodes:4},{title:"The Age of Jackson",episodes:7},{title:"The Manson Murders",episodes:3},{title:"Civil War",episodes:8},{title:"The Walker Affair",episodes:3},{title:"The Age of Pirates",episodes:4},{title:"Yellow Fever Epidemic of 1793",episodes:1}]},
      { id:"10539", seasonDetails:[{title:"Season 1",episodes:8},{title:"Season 2",episodes:9},{title:"Season 3",episodes:9}]},
      { id:"9177",  seasonDetails:[{title:"Season 1",episodes:10},{title:"Season 2",episodes:10}]},
      { id:"6807",  seasonDetails:[{title:"From Commoner to Royalty",episodes:5},{title:"A Real Life 'Succession' Story",episodes:6},{title:"American Royalty",episodes:5},{title:"The Gettys",episodes:6},{title:"The House of Versace",episodes:5},{title:"Chappaquiddick",episodes:3},{title:"JFK Jr. and Carolyn Bessette",episodes:3},{title:"#FreeBritney",episodes:5},{title:"Diana to Meghan",episodes:5},{title:"Brooke and Aricia's Big Rich Year-End Special",episodes:1},{title:"Paris Hilton",episodes:5},{title:"The Kardashians",episodes:5},{title:"Oprah Presents Meghan and Harry",episodes:1},{title:"JFK & Jackie",episodes:4},{title:"American Royalty",episodes:5},{title:"The Making of Madonna",episodes:5},{title:"The Life & Loves of Elizabeth Taylor",episodes:5},{title:"Back to Bennifer",episodes:3},{title:"The Emancipation of Mariah Carey",episodes:5},{title:"A Real Life 'Succession' Story",episodes:5},{title:"Murder in the House of Gucci",episodes:4},{title:"Blonde. Billionaire. Boss",episodes:5},{title:"The Patty Hearst Story",episodes:5},{title:"Janet vs The HalfTime Show",episodes:3},{title:"The Kardashians",episodes:5},{title:"Marilyn",episodes:5},{title:"Saint Dolly",episodes:4},{title:"Still Standing",episodes:5},{title:"Back to Bennifer",episodes:2},{title:"Fresh Prince to Fallen King",episodes:6},{title:"JFK & Jackie",episodes:3},{title:"Rewriting The Story",episodes:5},{title:"In God We Lust",episodes:2}]},
      { id:"8514",  seasonDetails:[{title:"Thai Cave Rescue",episodes:6},{title:"Kidnapped in the Desert",episodes:4},{title:"Prisoner of War",episodes:5},{title:"The Savage Mountain",episodes:5},{title:"Shipwreck on the Sahara",episodes:5},{title:"Surviving Antarctica",episodes:6},{title:"Plane Crash in the Andes",episodes:5},{title:"Chilean Mine Collapse",episodes:5},{title:"Rock Climbers Abducted",episodes:5},{title:"Disaster at Sea",episodes:5},{title:"Stranded in the Arctic",episodes:3},{title:"Kidnapped in the Desert",episodes:3},{title:"Avalanche at Tunnel Creek",episodes:2},{title:"Meltdown at Fukushima",episodes:5},{title:"Trapped on Mount Hood",episodes:6},{title:"Thai Cave Rescue",episodes:5},{title:"Crash in a Volcano",episodes:3},{title:"Wildfire in Paradise",episodes:6},{title:"The Race to Save Squalus",episodes:1}]},
      { id:"10276", seasonDetails:[{title:"Season 1",episodes:10},{title:"Season 2",episodes:10},{title:"Season 3",episodes:10},{title:"Season 4",episodes:10},{title:"Season 5",episodes:10}]},
      { id:"8860",  seasonDetails:[{title:"The Litvinenko Affair",episodes:5},{title:"The Sexed Up Dossier",episodes:4},{title:"The Murdoch Phone Hacking",episodes:5},{title:"Breaking Barings",episodes:4},{title:"The Profumo Affair",episodes:6},{title:"The Canoe Con",episodes:4},{title:"Anarchy In The UK (Sex Pistols)",episodes:5},{title:"Lord Lucan",episodes:4},{title:"The Litvinenko Affair",episodes:5},{title:"The Coughing Major",episodes:4},{title:"Maxwell",episodes:5},{title:"Spy Cops",episodes:4},{title:"Archer",episodes:4},{title:"Hatton Garden",episodes:4},{title:"Hitler Diaries",episodes:4},{title:"Abdication",episodes:4},{title:"The Spy Who Came Back From The Dead",episodes:4},{title:"The Queen of Clean",episodes:4},{title:"Boris Johnson",episodes:3}]},
      { id:"5629",  seasonDetails:[{title:"Rise of the Modern World",episodes:10},{title:"The Later Middle Ages",episodes:10},{title:"Early Modern Explosion",episodes:10},{title:"Prehistory",episodes:10},{title:"Classic Tides",episodes:4}]}
    ];

    // Build models
    const seasonsById = new Map(externalSeasons.map(s => [String(s.id), s.seasonDetails]));
    const seed = externalPodcasts.map(p => new Podcast({
      id: p.id,
      title: p.title,
      genres: p.genres,
      description: p.description,
      updatedAt: p.updatedAt,
      seasons: (seasonsById.get(String(p.id)) || []).map(s => new Season(s.title, s.episodes)),
      popularity: p.popularity
    }));

    // ===================== Modal Controller (no images) =====================
    class ModalController{
      constructor(root){
        this.root=root;
        this.backdrop=root.querySelector('#backdrop');
        this.btnClose=root.querySelector('#closeModal');
        this.btnCloseTop=root.querySelector('#closeModalTop');
        this.elTitle=root.querySelector('#modalTitle');
        this.elCover=root.querySelector('#modalCover'); // this is a DIV placeholder
        this.elDescription=root.querySelector('#modalDescription');
        this.elGenres=root.querySelector('#modalGenres');
        this.elUpdated=root.querySelector('#modalUpdated');
        this.elSeasons=root.querySelector('#modalSeasons');
        [this.backdrop,this.btnClose,this.btnCloseTop].forEach(b=>b.addEventListener('click',()=>this.close()));
        document.addEventListener('keydown',e=>{ if(e.key==='Escape') this.close(); });
      }
      open(p){
        this.elTitle.textContent = p.title;
        // No image: keep placeholder text
        this.elCover.textContent = 'No Image';
        this.elDescription.textContent = p.description;
        this.elGenres.replaceChildren(...p.genres.map(Utils.pill));
        this.elUpdated.textContent = `Last updated: ${Utils.formatDate(p.updatedAt)}`;
        this.elSeasons.replaceChildren(...p.seasons.map(s=>this.row(s)));
        this.root.classList.remove('hidden');
        this.root.setAttribute('aria-hidden','false');
        this.btnCloseTop.focus();
      }
      close(){ this.root.classList.add('hidden'); this.root.setAttribute('aria-hidden','true'); }
      row(s){
        const r=Utils.el('div','flex items-center justify-between rounded-lg border border-gray-200 bg-white px-4 py-3');
        const left=Utils.el('div');
        left.append(
          Utils.el('div','font-medium',[document.createTextNode(s.title)]),
          Utils.el('div','text-sm text-gray-600',[document.createTextNode(s.subtitle||'')])
        );
        const right=Utils.el('div','text-sm text-gray-600',[document.createTextNode(`${s.episodes} episode${s.episodes===1?'':'s'}`)]);
        r.append(left,right);
        return r;
      }
    }

    // ===================== App Controller =====================
    class AppController{
      constructor(repo){
        this.repo=repo;
        this.grid=document.getElementById('grid');
        this.genreSelect=document.getElementById('genreSelect');
        this.sortSelect=document.getElementById('sortSelect');
        this.modal=new ModalController(document.getElementById('modalRoot'));
        this.state={ genre:'All Genres', sort:'recent' };
      }
      init(){
        // controls
        this.genreSelect.replaceChildren(...this.repo.allGenres().map(g=>new Option(g,g)));
        this.genreSelect.value=this.state.genre;
        this.genreSelect.addEventListener('change',()=>{ this.state.genre=this.genreSelect.value; this.render(); });
        this.sortSelect.value=this.state.sort;
        this.sortSelect.addEventListener('change',()=>{ this.state.sort=this.sortSelect.value; this.render(); });
        // initial render
        this.render();
      }
      render(){
        const podcasts=this.repo.query(this.state);
        this.grid.replaceChildren(...podcasts.map(p=>this.card(p)));
      }
      card(p){
        const card=Utils.el('article','rounded-xl border border-gray-200 bg-white p-4 shadow-card hover:shadow-md transition-shadow cursor-pointer focus-within:ring-2 focus-within:ring-brand-600');
        // No-image placeholder on card
        const ph=Utils.el('div','w-full card-img rounded-md bg-gray-200 grid place-items-center text-gray-600 text-sm',['No Image']);
        const title=Utils.el('h3','mt-3 font-semibold text-gray-900',[document.createTextNode(p.title)]);
        const seasons=Utils.el('div','mt-1 text-sm text-gray-700 flex items-center gap-2');
        seasons.append('üìÖ',` ${p.seasonCount} season${p.seasonCount===1?'':'s'}`);
        const tags=Utils.el('div','mt-2 flex flex-wrap gap-2'); p.genres.forEach(g=>tags.append(Utils.pill(g)));
        const updated=Utils.el('div','mt-3 text-sm text-gray-600',[document.createTextNode(`Updated ${Utils.timeAgo(p.updatedAt)}`)]);
        card.append(ph,title,seasons,tags,updated);
        card.addEventListener('click',()=>this.modal.open(p));
        card.tabIndex=0;
        card.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); this.modal.open(p); } });
        return card;
      }
    }

    // Bootstrap
    document.addEventListener('DOMContentLoaded',()=>{ const repo=new PodcastRepository(seed); new AppController(repo).init(); });
  </script>
</body>
</html>
